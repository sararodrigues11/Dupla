<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Guess the country!</title>
    <link rel="stylesheet" href="../easy/style.css">
</head>
<body>

    <div class="text-container">
        <h2>Guess the Country!</h2> 
    </div>

    <div class="box-line-1">One of the best-known islands in the Caribbean</div>
    <div class="box-line-2" style="display: none;">Known for its tropical forests</div>
    <div class="box-line-3" style="display: none;">Its flag consists of 3 bands of different colors, a triangle and a star</div>

    <div class="answer-box">
        <input type="text" id="userAnswer" placeholder="Type your guess here..." />
    </div>
    
    <div class="button-container">
        <button class="btn" id="prevButton">Previous</button>
        <button class="btn" id="hintButton">Hint</button>
        <button class="btn" id="nextButton">Next</button>
    </div>

    <script>
        console.log("Hello, World!");

        // Hint functionality
        const hintButton = document.getElementById('hintButton');
        const line2 = document.querySelector('.box-line-2'); 
        const line3 = document.querySelector('.box-line-3'); 
        let hintClicks = 0;

        // Show hints based on the number of clicks
        hintButton.addEventListener('click', function() {
            hintClicks++; 

            if (hintClicks === 1) {
                line2.style.display = 'block'; // Show line 2
                console.log("First click: Line 2 is now visible!");
            }
            else if (hintClicks === 2) {
                line3.style.display = 'block';  // Show line 3
                console.log("Second click: Line 3 is now visible!");
            }
            else {
                console.log("Hint button clicked, but lines are already visible.");
            }
        });

        // Correct country names (case insensitive)
        const correctCountry = ["puerto rico", "Puerto rico", "Puerto Rico"];  

        const userAnswerInput = document.getElementById("userAnswer");
        const nextButton = document.getElementById("nextButton");
        const prevButton = document.getElementById("prevButton");

        // Event listeners for buttons
        nextButton.addEventListener("click", checkAnswer);
        prevButton.addEventListener("click", previousQuestion);

        // Enter key support
        userAnswerInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                checkAnswer();  
            }
        });

        // Check if the user's answer matches the correct country
        function checkAnswer() {
            const userAnswer = userAnswerInput.value.trim().toLowerCase();

            // Use .some() to check if the answer matches any element in the correctCountry array
            if (correctCountry.some(country => country.toLowerCase() === userAnswer)) {
                alert("Correct! The country is Puerto Rico!");
                
                // Redirect to the next question after 1 second
                setTimeout(function() {
                    window.location.href = "../hard/question32.html";
                }, 1000);
            } else {
                alert("Oops! Try again.");
            }

            userAnswerInput.value = "";  // Clear the input field
        }

        // Handle previous question button (could be customized further)
        function previousQuestion() {
            alert("Going to previous question...");
        }
    </script>

</body>
</html>
